<section class="wrapper">
  <div id="main-nav">
    <div class="nav-bar">
      <div class="nav-items">
        <a routerLink="/store" class="app-title">Store</a>
        <div class="search-bar">
          <input [(ngModel)]="searchText" (keyup.enter)="onEnterPressed()" type="text" placeholder="Search.."/>
          <button (click)="onEnterPressed()">Search</button>
        </div>
        <div class="nav-buttons">
          <ng-template #anonymousUser>
            <div class="sign-in-button">
              <button routerLink="/store/sign-in">Sign In</button>
            </div>
          </ng-template>

          <div>
            <div *ngIf="appUser; else anonymousUser" (click)="toggleHide = !toggleHide" class="username-button">
              <button>{{ appUser.name }}<span></span></button>
            </div>
            <div (window:mouseup)="autoCloseDropdown($event)" *ngIf="toggleHide && appUser" class="logged-in-dropdown">
              <a class="logged-in-dropdown-item">My Orders</a>
              <ng-container *ngIf="appUser.isAdmin">
                  <a class="logged-in-dropdown-item">Manage Orders</a>
                  <a class="logged-in-dropdown-item">Manage Products</a>
              </ng-container>
              <a (click)="logout(); toggleHide=false" class="logged-in-dropdown-item">Logout</a>
            </div>
          </div>
          <div class="cart-button">
            <button>Cart <span>0</span></button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="sub-nav">
    <div class="sub-nav-bar">
     <div class="sub-nav-items">
        <a routerLink="/store/t-shirts" routerLinkActive="selected" class="category-nav t-shirts-button">T-Shirts</a>
        <a routerLink="/store/jackets" routerLinkActive="selected" class="category-nav jackets-button">Jackets</a>
        <a routerLink="/store/shorts" routerLinkActive="selected" class="category-nav shorts-button">Shorts</a>
        <a routerLink="/store/pants" routerLinkActive="selected" class="category-nav pants-button">Pants</a>
      </div> 
    </div>
  </div>

  <router-outlet></router-outlet>

</section>
